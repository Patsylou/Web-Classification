 DigiBarn Ed Thelen www.bitsavers.org On-Line-Documents COMPUTER SYSTEM 2240004 1/76 A  5/76  A-01  9/76 B  10/76 B-01  2/77  B-02  7/77 C  11/77 CONTENTS 1. INTRODUCTION COMPUTATION SECTION MEMORY SECTION INPUT/OUTPUT SECTION VECTOR PROCESSING 2. PHYSICAL ORGANIZATION INTRODUCTION MAINFRAME Modules Printed circuit board Module assembly Integrated circuit packages IC high-speed logic gate IC slow-speed logic gate 16x1 register chip 10241 memory chip Resistors Connector strips Clock Power supplies PRIMARY POWER SYSTEM COOLING MAINTENANCE CONTROL UNIT FRONT-END COMPUTER EXTERNAL INTERFACE MASS STORAGE SUBSYSTEM 3.  COMPUTATION SECTION INTRODUCTION REGISTER CONVENTIONS OPERATING REGISTERS V registers V register reservations Vector control registers VL register VM register S registers T registers A registers B registers FUNCTIONAL UNITS Address functional units Address add unit  Address multiply unit Scalar functional units Scalar add unit Scalar shift unit Scalar logical unit Population/leading zero count unit Vector functional units Vector functional,unit reservation Recursive characteristic of vector functional units Vector add unit   Vector shift unit Vector logical unit Floating point functional units Floating point add unit Floating point multiply unit Reciprocal approximation unit ARITHMETIC OPERATIONS Integer arithmetic Floating point arithmetic Normalized floating point Floating point range errors Floating point add unit Floating point multiply unit Double precision numbers Addition algorithm Multiplication algorithm Division algorithm LOGICAL OPERATIONS INSTRUCTION ISSUE AND CONTROL P register CIP register NIP register LIP register Instruction buffers  EXCHANGE MECHANISM XA register  M register F register Exchange package Active exchange package Exchange sequence Initiated by dead start sequence  Initiated by interrupt flag set Initiated by program exit Exchange sequence issue conditions Exchange package management  MEMORY FIELD PROTECTION BA register LA register DEAD START SEQUENCE 4. INSTRUCTIONS INSTRUCTION FORMAT Arithmetic, logical format Shift, mask format Immediate constant format Memory transfer format Branch format SPECIAL REGISTER VALUES INSTRUCTION ISSUE INSTRUCTION DESCRIPTIONS 000000 Error exit 001i jk Monitor functions    0020xk Transmi t (AK) to VL  0021xx Set the floating point mode flag in the M register 0022xx Clear the floating point mode flag in the M register 003xjx Transmit (Sj) to vector mask   004xxx Normal exit 005xjk Branch to (Bjk) 006ijkm Branch to ijkm 007ijkm Return jump to ijkm; set Boo to (P) 010ijkm Branch to ijkm if (Ao) = 0 011ijkm Branch to ijkm if (Ao) 0 012ijkm Branch to ijkm if (A0) positive 013ijkm Branch to ijkm if (Ao) negative 014ijkm Branch to ijkm if (So) = 0 015ijkm Branch to ijkm if (So) 0 016ijkm Branch to ijkm if (So) positive 017ijkm Branch to ijkm if (So) negative 0201jkm Transmit j km to Ai 021ijkm Transmit complement of jkm to Ai  022ijk Transmit j k to Ai 024ijk Transmit (Bjk) to Ai 025ijk Transmit (Ai) to Bjk  026ijx Population count of (Sj) to Ai 027ijx Leading zero count of (Sj) to Ai 030ijk Integer sum of (Aj) and (Ak) to Ai 031ijk Integer difference (Aj) and (Ak) to Ai  032ijk Integer product of (Aj) and (Ak) to Ai  033ijk Transmit I/0 status to Ai 034ijk Block transfer (Ai) words from memory starting at address (Ao) to B register starting at register jk 035ijk Block transfer (Ai) words from B registers starting at register jk to memory starting at address (Ao) 036ijk Block transfer (Ai) words from memory starting at address (Ao) to T registers starting at register jk 037ijk Block transfer (Ai) words from T registers starting at register jk to memory starting at address (Ao) 040ijkm Transmit jkm to Si  041ijkm Transmit complement of jkm to Si 042ijk Form 64-jk bits of one's mask in Si from right 043ijk Form jk bits of one's mask in Si from left 044ijk Logical product of (Sj) and (Sk) to Si 045ijk Logical product of (Sj) and complement of Sk to Si 046ijk Logical difference of (Sj) and (Sk) to Si 050i j k Scalar merge    051ijk Logical sum of (Sj) and (Sk) to Si 052ijk Shift (Si) left jk places to So 053ijk Shift (Si) right 64-jk places to So 054ijk Shift (Si) left jk places to Si 055ijk Shift (Si) right 64-jk places to Si 056ijk Shift (Si) and (Sj) left by (Sk) places to Si 057ijk Shift (Sj) and (Si) right by (Ak) places to Si 060ijk Integer sum of (Sj) and (Sk) to Si   061ijk Integer difference of (Sj) and (Sk) to Si 062ijk Floating sum of (Sj) and (Sk) to Si 063ijk Floating difference of (Sj) and (Sk) to Si 064ijk Floating product of (Sj) and (Sk) to Si 066ijk Rounded floating product of (Sj) and (Sk) to Si 067ijk Reciprocal iteration; 2-(Sj)*(Sk) to Si 070ijx Floating reciprocal approximation of (Sj) to Si 072ixx Transmit (RTC) to Si 073ixx Transmit (VM) to Si 074ijk Transmit (Tjk) to Si 075ijk Transmit (Si) to Tjk 076ijk Transmit (Vj element (Ak)) to Si 077ijk Transmit (SP to Vi element (Ak) 10hijkm Read from ((Ah) + jkm) to Ai   11hijkm Store (Ai) to (Ah) + jkm   12hijkm Read from ((Ah) + jkm) to Si   13hijkm Store (Si) to (Ah) + jkm   146ijk If VM bit = 1, transmit (Sj) to Vi elements If VM bit 1, transmit (Vk elements) to Vi elements 147ijk If VM bit = 1, transmit (Vj elements) to Vi elements If VM bit 1, transmit (Vk elements) to Vi elements A TIMING SUMMARY B MODULE TYPES C SOFTWARE CONSIDERATIONS D INSTRUCTION SUMMARY 1-1 Basic computer system 2-1 Physical organization of the mainframe 2-2 General chassis layout 2-3 Clock pulse waveform 3-1 Computation section 3-2 Integer data formats 3-3 Floating point data format 3-4 49-bit floating point addition 3-5 Floating point multiply pyramid 3-7 Instruction buffers 3-8 Exchange package 4-1 General format for instructions 4-2 Format for arithmetic and logical instructions 4-3 Format for shift and mask instructions 4-4 Format for immediate constant instructions 4-5 Format for memory transfer instructions 4-6 Two-parcel format for branch instructions 5-1 Memory organization 5-2 Memory address 6-1 Channel I/0 control 1-1 Characteristics of CRAY-1 Computer System COMPUTATION SECTION MEMORY SECTION INPUT/OUTPUT SECTION VECTOR PROCESSING PHYSICAL ORGANIZATION 2 INTRODUCTION MAINFRAME o Printed circuit board Module assembly Integrated circuit packages IC high-speed logic gate IC slow-speed logic gate 16x1 register chip 1024x1 memory chip Resistors Connector strips CLOCK POWER SUPPLIES PRIMARY POWER SYSTEM COOLING o F (54 o IC case temperature at center of module  130 o F (54 o IC case temperature at edge of module  118 o F (48 o Cold plate temperature at wedge  78 o F (25 o Cold bar temperature  70 o F (21 o Refrigerant tube temperature  70 o F (21 o MAINTENANCE CONTROL UNIT FRONT-END COMPUTER EXTERNAL INTERFACE MASS STORAGE SUBSYSTEM INTRODUCTION REGISTER CONVENTIONS OPERATING REGISTERS V REGISTERS V register reservations VECTOR CONTROL REGISTERS VL register  VM register S REGISTERS A REGISTERS   B REGISTERS FUNCTIONAL UNITS Address add unit Address multiply unit Scalar add unit Scalar shift unit Scalar logical unit Population/leading zero count unit Vector functional unit reservation Recursive characteristic of vector functional units Vector add unit Vector shift unit Vector logical unit Floating point add unit Floating point multiply unit Reciprocal approximation unit ARITHMETIC OPERATIONS Normalized floating point 8 o Floating point range errors 8 8 Floating point add unit Double precision numbers Addition algorithm Multiplication algorithm Division algorithm LOGICAL OPERATIONS INSTRUCTION ISSUE AND CONTROL 8 EXCHANGE MECHANISM Bit36 Bit37 Bit38 Bit39 Memory error data Error type (E) Syndrome (S) Read mode (R) Read address (RAB) 3 19 through 2 4 Active exchange package Initiated by dead start sequence Initiated by interrupt flag set Initiated by program exit Exchange sequence issue conditions MEMORY FIELD PROTECTION On-Line-Documents 
